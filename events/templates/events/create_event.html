{% extends 'base.html' %}

{% block title %}Create Event{% endblock %}

{% block content %}
<div class="card">
    <h2>Import Event from The Blue Alliance</h2>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="tba_event_key">TBA Event Key</label>
            <input type="text" id="tba_event_key" name="tba_event_key" required placeholder="e.g., 2025ntwc, 2024casj, 2024cc" pattern="[0-9]{4}[a-z0-9]+">
            <small>Find event keys at <a href="https://www.thebluealliance.com/events" target="_blank">The Blue Alliance</a></small>
            <small style="display: block; margin-top: 5px; color: #666;">
                <strong>Format:</strong> {year}{event_code} | 
                <strong>Examples:</strong> 2025ntwc (Newton District), 2024casj (San Jose Regional), 2024cc (Chezy Champs)
            </small>
        </div>
        <div class="form-group">
            <label>
                <input type="checkbox" name="sync_statbotics" checked>
                Also import Statbotics data (EPA, win rates)
            </label>
        </div>
        <p><em>Note: This will automatically import event details, all participating teams, and match schedule from TBA.</em></p>
        <button type="submit" class="btn">Import Event</button>
        <a href="{% url 'event_list' %}" class="btn" style="background: #6c757d;">Cancel</a>
    </form>
    
    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
        <h3>Setup Instructions</h3>
        <ol>
            <li>Get a TBA API key from <a href="https://www.thebluealliance.com/account" target="_blank">your TBA account page</a></li>
            <li>Add it to <code>frc_scouting/settings.py</code> as <code>TBA_API_KEY = 'your_key_here'</code></li>
            <li>Enter the event key above (format: year + event code, e.g., "2024casj" for San Jose 2024)</li>
            <li>Click "Import Event" to fetch all data automatically</li>
        </ol>
    </div>
</div>
{% endblock %}
